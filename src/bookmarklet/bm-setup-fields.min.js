!function(){function e(e,r){return e.indexOf(r)>-1}if(location.href.indexOf("mousehuntgame.com")<0)alert("You are not on mousehuntgame.com! Please try again.");else if(user){var r,t=user.location,a=user.base_name,n={};n.location=t,n.weapon=user.weapon_name,n.base=a,n.charm=user.trinket_name,n.rank="Archduke"===(r=user.title_name)||"Archduchess"===r?"archduke":"Grand Duke"===r||"Grand Duchess"===r?"grandduke":"Duke"===r||"Duchess"===r?"duke":"Count"===r||"Countess"===r?"count":"Baron"===r||"Baroness"===r?"baron":"Lord"===r||"Lady"===r?"lord":"Journeyman"===r||"Journeywoman"===r?"journeyman":r.toLowerCase(),user.has_shield||(n.gs="No"),n.power_bonus=Math.round(100*user.trap_power_bonus);var s=document.querySelector(".campPage-trap-trapStat.luck > .value");n.total_luck=s&&s.textContent?Number(s.textContent):user.trap_luck;var i=user.bait_name,u=function(r,t){var a=user.quests,n=user.viewing_atts;if("Balack's Cove"===r){var s=n.tide;if("low"===s)return"Low Tide";if("med"===s)return"Medium Tide";if("high"===s)return"High Tide"}else{if("Burroughs Rift"===r){var u=a.QuestRiftBurroughs.mist_tier;return"Undead String Emmental"===i?i:{tier_0:"Mist Level 0",tier_1:"Mist Level 1-5",tier_2:"Mist Level 6-18",tier_3:"Mist Level 19-20"}[u]}if("Fiery Warpath"===r)return"Wave "+n.desert_warpath.wave;if("Fort Rox"===r){var o=a.QuestFortRox,l=o.current_phase;return"day"===l?"Day":"dawn"===l?"Dawn":"night"===l?{stage_one:"Twilight",stage_two:"Midnight",stage_three:"Pitch",stage_four:"Utter Darkness",stage_five:"First Light"}[Q=o.current_stage]:l}if("Gnawnian Express Station"===r){if(a.QuestTrainStation.on_train){var c=n.tournament.minigame,h=c.name;if("Supply Depot"===h){var d=c.supply_hoarder_turns;if(d>0)return"Supply Depot (Supply Rush)";if(0===d)return"Supply Depot (No Supply Rush)"}else if("Raider River"===h||"Daredevil Canyon"===h)return h}}else{if("Iceberg"===r){var g=a.QuestIceberg.current_phase;return"General"===g?"Generals":"Treacherous Tunnels"!==g&&"The Mad Depths"!==g||"Magnet Base"!==t?"The Mad Depths"===g&&"Hearthstone Base"===t?g+" (Hearthstone)":"Bombing Run"===g&&"Remote Detonator Base"===t?g+" (Remote Detonator)":"Treacherous Tunnels"!==g&&"Bombing Run"!==g&&"The Mad Depths"!==g||"Ultimate Iceberg Base"!==t?g:g+" (Ultimate Iceberg)":g+" (Magnet)"}if("Labyrinth"===r){var f=a.QuestLabyrinth.hallway_name;return e(f,"Short")?f=f.slice(6,f.length):e(f,"Medium")?f=f.slice(7,f.length):e(f,"Long")&&(f=f.slice(5,f.length)),f=f.slice(0,f.indexOf(" Hallway"))}if("Living Garden"===r){if("dumped"===a.QuestLivingGarden.minigame.bucket_state)return"Poured"}else if("Moussu Picchu"===r){var m=a.QuestMoussuPicchu.elements,_=m.storm.level;switch(_){case"high":_="max";break;case"medium":_="high";break;case"low":m.rain.percent>=35&&m.wind.percent>=35&&(_="medium")}if("none"!==_)return"Storm "+_;if("up"===m.rain.direction)return"Rain "+m.rain.level;if("up"===m.wind.direction)return"Wind "+m.wind.level}else if("Twisted Garden"===r){if("dumped"===a.QuestLivingGarden.minigame.vials_state)return"Poured"}else if("Lost City"===r){if(1===a.QuestLostCity.minigame.is_cursed)return"Cursed"}else if("Cursed City"===r){if(a.QuestLostCity.minigame.is_cursed)return"Cursed"}else if("Sand Dunes"===r){if(a.QuestSandDunes.minigame.has_stampede)return"Stampede"}else{if("Seasonal Garden"===r)return{fl:"Fall",wr:"Winter",sg:"Spring",sr:"Summer"}[n.season];if("Sunken City"===r)return"Sunken City"===(g=a.QuestSunkenCity.zone_name)&&(g="Docked"),g;if("Toxic Spill"===r){var p=a.QuestPollutionOutbreak.titles,v={archduke_archduchess:"Archduke/Archduchess",grand_duke:"Grand Duke/Grand Duchess",duke_dutchess:"Duke/Duchess",count_countess:"Count/Countess",baron_baroness:"Baron/Baroness",lord_lady:"Lord/Lady",hero:"Hero",knight:"Knight"};for(var y in p)p.hasOwnProperty(y)&&p[y].active&&(g=v[y]);return g}if("Whisker Woods Rift"===r){var w=a.QuestRiftWhiskerWoods.zones,b="";return b=(b=(b=(b+=w.clearing.status+"/"+w.tree.status+"/"+w.lagoon.status).replace(/low/g,"Low")).replace(/high/g,"Medium")).replace(/boss/g,"High")}if("Zokor"===r){var k=a.QuestAncientCity,C=k.district_name,S=k.clue_name,T=k.district_tier;return e(C,"Minotaur")?"Lair of the Minotaur":{Tech:["Tech Foundry Outskirts","Tech Research Center","Manaforge"],Scholar:["Neophyte Scholar Study","Master Scholar Auditorium","Dark Library"],Fealty:["Outer Fealty Shrine","Inner Fealty Temple","Templar's Sanctum"],Treasury:["Treasure Room","Treasure Vault"],Farming:["Farming Garden","Overgrown Farmhouse"]}[S][T-1]}if("Furoma Rift"===r)return a.QuestRiftFuroma.droid.charge_level?"Pagoda":"Training Grounds";var Q;if("Bristle Woods Rift"===r)return(Q=[]).push(a.QuestRiftBristleWoods.chamber_name),"active"===a.QuestRiftBristleWoods.status_effects.ng&&Q.push("(Paladin's Bane)"),"active"===a.QuestRiftBristleWoods.status_effects.st&&Q.push("(Pursued)"),Q.join(" ");if("Zugzwang's Tower"===r){var M=n.zzt_mage_progress,R=n.zzt_tech_progress;if(M>=R){if(M>=0&&M<8)return"Mystic Pawn Pincher";if(M>=8&&M<10)return"Mystic Knights";if(M>=10&&M<12)return"Mystic Bishops";if(M>=12&&M<14)return"Mystic Rooks";if(14===M)return"Mystic Queen";if(15===M)return"Mystic King";if(M>=16)return"Chess Master"}else{if(R>=0&&R<8)return"Technic Pawn Pincher";if(R>=8&&R<10)return"Technic Knights";if(R>=10&&R<12)return"Technic Bishops";if(R>=12&&R<14)return"Technic Rooks";if(14===R)return"Technic Queen";if(15===R)return"Technic King";if(R>=16)return"Chess Master"}}else if("Claw Shot City"===r){var D=a.QuestClawShotCity.map_active,L=a.QuestClawShotCity.has_wanted_poster;if(!D)return"No Wanted Poster Open";if(D&&!L)return"Crew"}else{if("Mousoleum"===r)return a.QuestMousoleum.has_wall?"Has Wall":"No Wall";if("Queso Geyser"===r){var B=a.QuestQuesoGeyser.state;if("collecting"===B)return"Cork Collecting";if("corked"===B)return"Pressure Building";if("eruption"===B)return a.QuestQuesoGeyser.state_name}else{if("Forbidden Grove"===r)return user.viewing_atts.grove_open?"Open":"Closed";if("Harbour"===r)return"searchStarted"!==a.QuestHarbour.status||a.QuestHarbour.can_claim?"No Bounty":"On Bounty"}}}}}return"N/A"}(t,a);!function(e,r,t){var a=user.quests;if("Furoma Rift"===e){var n=a.QuestRiftFuroma.droid.charge_level;""!==n&&(r.battery={charge_level_one:1,charge_level_two:2,charge_level_three:3,charge_level_four:4,charge_level_five:5,charge_level_six:6,charge_level_seven:7,charge_level_eight:8,charge_level_nine:9,charge_level_ten:10}[n])}else if("Labyrinth"===e)"active"===a.QuestLabyrinth.lantern_status&&(r.oil="On");else if("Fort Rox"===e){var s=a.QuestFortRox.fort;r.ballistaLevel=s.b.level,r.cannonLevel=s.c.level}else"Zugzwang's Tower"===e?r.amplifier=user.viewing_atts.zzt_amplifier:"Sand Crypts"===e&&(r.saltLevel=a.QuestSandDunes.minigame.salt_charms_used)}(t,n),i&&(e(i,"Empowered")&&(i=i.slice(6,i.length),n.empowered="Yes"),i.indexOf("SUPER|brie+")>=0?i="SB+":i.indexOf(" Cheese")>=0?e(i,"Gauntlet")?u=i=i.slice(16,i.length):i=i.slice(0,i.indexOf(" Cheese")):"Fusion Fondue"===i&&(n.location="M400 Hunting"),n.cheese=i),"N/A"!==u&&(n.phase=u),"Timesplit Dissonance Trap"===n.weapon&&(n.weapon="Timesplit Dissonance Weapon"),"Denture Base"===n.base&&document.querySelector(".mousehuntHud-userStat.trap.base > .icon").getAttribute("style").indexOf("vteeth")>=0&&(n.base="Denture Base (Toothlet Charged)"),n.weapon.indexOf("Golem Guardian")>=0?$.post("https://www.mousehuntgame.com/managers/ajax/users/gettrapcomponents.php",{hg_is_ajax:1,uh:user.unique_hash},null,"json").done(function(e){if(e.components){var r=e.components.filter(function(e){return"snow_golem_trap_weapon"===e.component_type}),t=[0,0,0,0,0];for(var a of r)switch(a.power_type_name){case"Arcane":t[0]=a.golem_guardian_charge_percentage;break;case"Forgotten":t[1]=a.golem_guardian_charge_percentage;break;case"Hydro":t[2]=a.golem_guardian_charge_percentage;break;case"Physical":t[3]=a.golem_guardian_charge_percentage;break;case"Tactical":t[4]=a.golem_guardian_charge_percentage}n.golem_charge=t,o(n)}}):o(n)}else alert("User object not found.");function o(e){var r="https://tsitu.github.io/MH-Tools/setup.html?";for(var t in e){var a=encodeURIComponent(e[t]);"golem_charge"===t&&(a="%5B"+a+"%5D"),r+=t+"="+a+"&"}window.open("","mhsetup").location=r}}();